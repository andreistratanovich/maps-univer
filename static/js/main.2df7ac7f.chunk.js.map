{"version":3,"sources":["components/YMaps/YMaps.js","configs/airports.js","App.js","serviceWorker.js","index.js"],"names":["props","routes","i","data","length","push","geometry","type","coordinates","lat","lon","options","geodesic","strokeWidth","strokeColor","query","lang","className","defaultState","center","zoom","airports","filter","item","name","iata","continent","size","getAirportObjFromIata","find","useState","modalVisible","setModalVisible","startAirport","setStartAirport","numberOfCities","setNumberOfCities","route","setRoute","Fragment","style","zIndex","width","margin","map","index","Item","key","onClick","ReloadOutlined","title","footer","temp","Math","round","random","RocketOutlined","centered","closable","visible","defaultValue","showSearch","onChange","value","Option","dashed","min","max","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.2df7ac7f.chunk.js","sourcesContent":["import React from \"react\";\nimport { YMaps, Map, GeoObject } from \"react-yandex-maps\";\nimport \"./YMaps.scss\";\n\nexport default (props) => {\n  const routes = [];\n\n  for (let i = 1; i < props.data.length; i++) {\n    routes.push(\n      <GeoObject\n        geometry={{\n          type: \"LineString\",\n          coordinates: [\n            [props.data[i - 1].lat, props.data[i - 1].lon],\n            [props.data[i].lat, props.data[i].lon],\n          ],\n        }}\n        options={{\n          geodesic: true,\n          strokeWidth: 3,\n          strokeColor: \"#1890ff\",\n        }}\n      />\n    );\n  }\n\n  return (\n    <YMaps query={{ lang: \"en_RU\" }}>\n      <Map className=\"maps-container\" defaultState={{ center: [47.57, 21.1], zoom: 5 }}>\n        {routes}\n      </Map>\n    </YMaps>\n  );\n};\n","import airports from \"../static/airports.json\";\n\nexport default airports.filter((item) => {\n  if (item.name && item.iata && item.continent === \"EU\" && item.size === \"large\") {\n    return item;\n  }\n});\n","import React, { useState } from \"react\";\n\nimport \"./App.scss\";\nimport \"antd/dist/antd.css\";\nimport { RocketOutlined, ReloadOutlined } from \"@ant-design/icons\";\nimport { Card, Timeline, Modal, Button, Select, InputNumber, Divider } from \"antd\";\nimport YMaps from \"./components/YMaps/YMaps\";\n\nimport airports from \"./configs/airports\";\n\nexport default () => {\n  const getAirportObjFromIata = (iata) => airports.find((item) => item.iata === iata);\n\n  const [modalVisible, setModalVisible] = useState(true);\n  const [startAirport, setStartAirport] = useState(getAirportObjFromIata(\"MSQ\"));\n  const [numberOfCities, setNumberOfCities] = useState(3);\n  const [route, setRoute] = useState([]);\n\n  const handleModalSubmit = () => {\n    const temp = [];\n\n    for (let i = 0; i < numberOfCities; i++) {\n      temp.push(airports[Math.round(Math.random() * (airports.length + 1))]);\n    }\n\n    setRoute([startAirport, ...temp]);\n    setModalVisible(false);\n  };\n\n  return (\n    <React.Fragment>\n      {!modalVisible ? (\n        <Card style={{ zIndex: 1, width: 340, margin: 10 }}>\n          <Timeline>\n            {route.map((item, index) => (\n              <Timeline.Item key={index}>\n                {item.name} ({item.iata})\n              </Timeline.Item>\n            ))}\n          </Timeline>\n          <Button type=\"primary\" onClick={() => setModalVisible(true)}>\n            <ReloadOutlined /> Start over\n          </Button>\n        </Card>\n      ) : null}\n      <Modal\n        title=\"Customize your ride\"\n        footer={[\n          <Button type=\"primary\" onClick={handleModalSubmit}>\n            <RocketOutlined /> Generate\n          </Button>,\n        ]}\n        centered\n        closable={false}\n        visible={modalVisible}\n      >\n        <p>Choose a start airport</p>\n        <Select style={{ width: \"100%\" }} defaultValue={startAirport.iata} showSearch onChange={(value) => setStartAirport(getAirportObjFromIata(value))}>\n          {airports.map((item, index) => (\n            <Select.Option value={item.iata} key={index}>\n              {item.name} ({item.iata})\n            </Select.Option>\n          ))}\n        </Select>\n        <Divider dashed />\n        <p>Choose the number of cities</p>\n        <InputNumber min={1} max={10} defaultValue={numberOfCities} onChange={(value) => setNumberOfCities(value)} />\n      </Modal>\n      <YMaps data={route} />\n    </React.Fragment>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}